<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search</title>
</head>

<body>
  <script src=https://static.healthcarelocator.com/v1/hcl-sdk-web-ui/hcl-sdk.js></script>
    <script src=https://static.healthcarelocator.com/v1/hcl-sdk-api/hcl-sdk-api.js></script>
    
    <!-- <script>
        customElements.whenDefined('hcl-sdk').then(function () {
            var specialtyLabelByCode = {
            'SP.WCA.75': 'Dentistry',
            'SP.WCA.08': 'Cardiology',
            }

            var specialtyLabel = specialtyLabelByCode[specialtyCode];
            if (specialtyLabel) {
                hclSdkEl.searchNearMe({
                    specialtyCode,
                    specialtyLabel
                });
            }

            var matches = window.location.hash.match(/sp=([A-Z0-9.]+)/);
            if (matches) {
            var specialtyCode = matches[1];
            var specialtyLabel = specialtyLabelByCode[specialtyCode];
            var entry;
            if (specialtyLabel) {
                entry = {
                    screenName: 'searchNearMe',
                    specialtyCode: specialtyCode
                }
            }
        }

            var HCLSDK = document.querySelector('hcl-sdk');
            HCLSDK.init({
                apiKey: '3001338d4ba57fd0',
                entry: entry
            })
        });

        
       
        
        // var hclSdkEl = document.querySelector('hcl-sdk');
        // function searchNearMe(specialtyCode) {
        //     // document.body.classList.remove('menu-opened');
        //     var specialtyLabel = specialtyLabelByCode[specialtyCode];
        //     if (specialtyLabel) {
        //         hclSdkEl.searchNearMe({
        //             specialtyCode,
        //             specialtyLabel
        //         });
        //     }
        // }

        // var matches = window.location.hash.match(/sp=([A-Z0-9.]+)/);
        // if (matches) {
        //     var specialtyCode = matches[1];
        //     var specialtyLabel = specialtyLabelByCode[specialtyCode];
        //     if (specialtyLabel) {
        //         config.entry = {
        //             screenName: 'searchNearMe',
        //             specialtyCode
        //         }
        //     }
        // }



    </script> -->
    <hcl-sdk></hcl-sdk>
    <script src="index.js"></script>
    
</body>

</html>

<!-- 
@Method()
async searchNearMe({ specialtyCode }) {
  this.loading = true;

  let specialtyLabel = specialtyCode;
  try {
    const res = await graphql.labelsByCode({ first: 1, criteria: specialtyCode, codeTypes: ['SP'], country: 'ca', locale: i18nStore.state.lang }, configStore.configGraphql);
    if (res.labelsByCode && res.labelsByCode.codes && res.labelsByCode.codes.length > 0) {
      specialtyLabel = res.labelsByCode.codes[0].longLbl;
    }
  } catch (err) {}

  this.loading = false; -->

<!-- ******************************************************************************** -->
<!-- Speciality Code Matching from URL -->

<!-- var matches = window.location.hash.match(/sp=([A-Z0-9.]+)/);
if (matches) {
  var specialtyCode = matches[1];
  var specialtyLabel = specialtyLabelByCode[specialtyCode];
  if (specialtyLabel) {
    config.entry = {
      screenName: 'searchNearMe',
      specialtyCode
    }
  }
} -->
<!-- 
var str = "./search.html#sp=SP.WCA.75"; 
var res = str.match(/sp=([A-Z0-9.]+)/gi); -->

<!-- ******************************************************************************** -->